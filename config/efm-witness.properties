# EFM Witness Node Configuration

# Cluster settings
cluster.name=efm_cluster
bind.address=172.20.0.12:7800
admin.port=7809

# Node membership
membership.path=/tmp/efm_cluster_members
is.witness=true

# Database connection information (witness doesn't connect to DB but needs config)
db.host=172.20.0.10
db.port=5432
db.user=postgres
db.password.encrypted=91ef368a26253d892689a7b6b2680918
db.database=postgres

# Replication user credentials
user.email=admin@example.com
application.name=efm-witness

# Auto failover settings
auto.failover=true
auto.reconfigure=true

# Virtual IP settings (disabled for Docker environment)
virtual.ip=
virtual.ip.interface=
virtual.ip.prefix=24
virtual.ip.single=true

# Notification settings
notification.level=INFO

# Script configuration for custom actions
script.fence=
script.post.promotion=
script.post.failover=
script.remote.pre.promotion=

# Node priority (witnesses typically have lowest priority)
node.priority=1

# Recovery settings
recovery.check.period=10
recovery.on.standby.failure=true

# Monitoring settings
update.physical.slots.period=0
physical.slots.update.disabled=true

# Logging settings
loglevel=INFO
logfile=/var/log/efm-5.0/efm-5.0.log
syslog.enabled=false

# Lock file
lock.dir=/var/run/efm-5.0

# Sudo configuration (not needed in Docker)
sudo.with.efm.user=false

# Ping settings for network checks
ping.server.ip=172.20.0.5

# Witness settings
stable.nodes.file=true

# JGroups settings
jgroups.loglevel=WARN

# Local monitoring period (seconds)
local.period=10

# Remote monitoring period (seconds)
remote.period=10

# Node heartbeat settings
node.timeout=60

# Application settings
application.name=efm_cluster_witness

# Required properties for EFM 5.0 (witness-specific)
jdbc.sslmode=disable
auto.allow.hosts=true
remote.timeout=10
encrypt.agent.messages=false
primary.shutdown.as.failure=false
use.replay.tiebreaker=true
minimum.standbys=0
ping.server.command=/scripts/ping_wrapper.sh
check.vip.before.promotion=false
file.log.enabled=true
sudo.command=/usr/bin/sudo
sudo.user.command=/usr/bin/sudo
check.num.sync.period=5